---
title: Coffee Preferences
author: Brilliant Cassowary <br> Jinpeng Li, Joice Chen, Nidhi Soma, Stephen Syl-Akinwale 
date: today
format:
  revealjs: 
    theme: simple
execute:
  echo: false
---

## Introduce the topic and motivation

Coffee is one of the most popular choices for students across campus. We wanted to see if there were any trends we could analyze about coffee preferences at large.

General research question: How does coffee preference and consumption habits differ by demographic attributes such as age, gender, education level, race, and political identity?

## Introduce the data

- Data collected from James Hoffman's "The Great American Coffee Taste Test"

- Surveyed almost 4000 respondents about their coffee preferences
- Participants were required weighing scale,a way of heating hot water, 
and cups that can accommodate about 250 mLs or eight ounces
- Coffee A - Light roast, Washed, Coffee B - Medium Roast, Coffee C - Dark roast, Coffee D - Fermented, Natural, Fruity

## Highlights from EDA

Looking at these variables we can see age ranges 25-34 most avid coffee drinkres. We want toseee more about thier taste prefrences.
```{r}
library(tidyverse)
library(janitor)
library(dplyr)
library(skimr)
library(stringr)
library(ggplot2)
library(usethis)
library(tidymodels)
library(probably)
coffee_clean_factors<- read_rds("data/coffee_clean_factor.rds")
#age vs  roast
#coffee like or not by age
roast_totals <- coffee_clean_factors |>
  group_by(roast_level) |>
  summarise(total = n())

age_roast_counts <- coffee_clean_factors |>
  filter(!is.na(roast_level) & !is.na(age)) |>
  group_by(age, roast_level) |>
  summarise(count = n()) |>
  left_join(roast_totals, by = "roast_level") |>
  mutate(percentage = count / total * 100)

ggplot(age_roast_counts, aes(x = roast_level, y = percentage, fill = age)) +
  geom_bar(stat = "identity", position = "dodge") +
  labs(title = "Coffee Roast Level Preferences by Age Group",
       x = "Roast Level",
       y = "Percentage") +
  theme_minimal() +
  scale_fill_viridis_d(end = 0.8)
```

## Educational 
```{r}
#Education vs number of sweetners

sweet_edu_df <- coffee_clean_factors |>
  select(education_level, contains("sugar_sweetener_add")) |>
  drop_na()
names(sweet_edu_df) <- gsub("sugar_sweetener_add_", "", names(sweet_edu_df))
sweet_edu_df <- sweet_edu_df |> 
  mutate(education_level = case_when(
    education_level %in% c("Bachelor's degree", "Master's degree", "Doctorate or professional degree") ~ "bachelor",
    TRUE ~ "no_bachelor"
  )) |>
  mutate(education_level = factor(education_level,
                                  c("bachelor",
                                    "no_bachelor")))

sweet_edu_df2 <- sweet_edu_df |>
  pivot_longer(
    cols = 2:9,
    names_to = "sweetener",
    values_to = "add"
  ) 
sweet_edu_df2 |>
  ggplot(aes(y = sweetener, fill = add) ) +
  geom_bar(position = "fill") +
  facet_wrap(.~education_level)

```

## Inference/modeling/other analysis

Your results here

## Inference/modeling/other analysis

Your results here

## Conclusions + future work



## Limitations
- Answers were not mandatory so there were a lot of absent values
- It was only conducted in the US
- Because Measurements were not uniformly recorded, it is likely respondents misrepresented their measurements.
- It was provided by cometncer coffee company, it is possible their roasts are very different from other brands
- The population available are already avid coffee drinkers so there might be bias to some of their responses.
